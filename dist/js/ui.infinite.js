!function(t){function n(){var t="BackCompat"==document.compatMode?document.body:document.documentElement;return Math.max(t.clientHeight,t.scrollHeight)}function i(n,i){this.element=t(n),this.options=t.extend({},o,i),this.$scrollTarget=t(this.options.scrollTarget||window),this.scrollTick=0,this.busy=!1,this.disabled=!!this.options.disabled,this.scrollHandler=this.checkScroll(),this.options.render&&this.render()}function e(){var n=arguments[0],e=Array.prototype.slice.call(arguments,1);return this.each(function(){var o=t(this),s=o.data("ui.infinite");s?"string"==typeof n&&s[n].apply(s,e):o.data("ui.infinite",s=new i(o[0],n))})}var o={offset:-200,disabled:!1,scrollTarget:window,callback:t.noop,render:!0};i.prototype={render:function(){var t=this;t.$scrollTarget.on("scroll",this.scrollHandler),setTimeout(function(){t.scrollHandler()},50)},done:function(){this.busy=!1},checkScroll:function(){var i=this;return function(){i.busy||i.disabled||(clearTimeout(i.scrollTick),i.scrollTick=setTimeout(function(){var e=i.$scrollTarget.scrollTop(),o=n(),s=i.element.offset(),l=i.element[0].offsetTop,r=s.height;if(e+o>=l+r+i.options.offset){i.busy=!0;var c=t.Deferred();c.then(function(){i.done()},function(){i.done()}),i.options.callback.call(i.element[0],c)}},50))}},enable:function(){this.disabled=!1},disable:function(){this.disabled=!0},dispose:function(){clearTimeout(this.scrollTick),this.$scrollTarget.off("scroll",this.scrollHandler)}};var s=t.fn.infinite;t.fn.infinite=e,t.fn.infinite.Constructor=i,t.fn.infinite.noConflict=function(){return t.fn.infinite=s,this}}(Zepto);