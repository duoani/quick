+function(t){"use strict";function i(t){return t.closest(".ctrl-num")}function e(i,e){if(e=e||{},this.$element=t(i),void 0===e.min){var a=this.$element.attr("data-min");a&&!isNaN(a)&&(e.min=parseInt(a,10))}if(void 0===e.max){var o=this.$element.attr("data-max");o&&!isNaN(o)&&(e.max=parseInt(o,10))}if(void 0===e.reviseDefault){var r=this.$element.attr("data-revise-default");e.reviseDefault=""===r||"true"===r}this.options=t.extend({},l,e),this.$input=this.$element.find("input"),this.$btnDec=this.$element.find(s),this.$btnInc=this.$element.find(n),this.init()}var n='[data-num="increase"]',s='[data-num="decrease"]',a='[data-num="input"]',l={min:1,max:100,disabled:!1,readonly:!1,reviseDefault:!0},o=Object.prototype.toString;e.prototype={init:function(){var t=parseInt(this.$input.val(),10)||0;this.options.reviseDefault&&(t=this.fix(t)),this.$input.val(t),this.cache(t),this.bind(),(this.options.disabled||this.$element.hasClass("disabled"))&&this.disable(),(this.options.readonly||this.$element.hasClass("readonly"))&&this.readOnly(),this.checkDisable()},setOptions:function(t,i){var e=o.call(t);if("[object Object]"===e)for(var n in t)this.options[n]=t[n];else"[object String]"===e&&(this.options[t]=i)},cache:function(t){this.value=t},fix:function(t){return t=t>=this.options.min?t:this.options.min,t<=this.options.max?t:this.options.max},bind:function(){},increase:function(){var t=this;if(!(t.options.disabled||t.options.readonly||t.$element.hasClass("inc-disabled"))){var i=parseInt(t.$input.val(),10)||0,e=t.value;i=t.fix(i+1),t.$input.val(i),t.cache(i),i!==e&&t.trigger()}},decrease:function(){var t=this;if(!(t.options.disabled||t.options.readonly||t.$element.hasClass("dec-disabled"))){var i=parseInt(t.$input.val(),10)||0,e=t.value;i=t.fix(i-1),t.$input.val(i),t.cache(i),i!==e&&t.trigger()}},input:function(t){var i=this;if(i.options.disabled||i.options.readonly)return!1;var e=parseInt(i.$input.val(),10)||0,n=i.value;e=i.fix(e),i.$input.val(e),i.cache(e),e!==n&&t!==!1&&i.trigger()},disable:function(){this.$element.addClass("disabled"),this.$input.prop("disabled",!0),this.options.disabled=!0},enable:function(){this.$element.removeClass("disabled"),this.$input.prop("disabled",!1),this.options.disabled=!1},readOnly:function(){this.$element.addClass("readonly"),this.$input.prop("readonly",!0),this.options.readonly=!0},enaOnly:function(){this.$element.addClass("readonly"),this.$input.prop("readonly",!1),this.options.readonly=!1},checkDisable:function(){this.value<=this.options.min?this.$element.addClass("dec-disabled"):this.$element.removeClass("dec-disabled"),this.value>=this.options.max?this.$element.addClass("inc-disabled"):this.$element.removeClass("inc-disabled")},trigger:function(){this.checkDisable(),this.$element.trigger(t.Event("ctrlnum:change"),this.value)}},t.fn.ctrlnum=function(i){var n,s=Array.prototype.slice.call(arguments,1);return this.each(function(){var a=t(this),l=a.data("ui.ctrlnum");l||(l=new e(this,i),a.data("ui.ctrlnum",l)),"string"==typeof i&&(n=l[i]&&0!==i.indexOf("_")&&l[i].apply(l,s))}),void 0!==n?n:this},t(".ctrl-num").ctrlnum(),t(document).on("touchstart.ui.ctrlnum.data-api",n,function(){i(t(this)).ctrlnum("increase")}).on("touchstart.ui.ctrlnum.data-api",s,function(){i(t(this)).ctrlnum("decrease")}).on("blur.ui.ctrlnum.data-api",a,function(){i(t(this)).ctrlnum("input")})}(window.Zepto);