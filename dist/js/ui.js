!function(t){t.tpl=function(t,e){var i="var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+t.replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');",o=new Function("obj",i);return e?o(e):o},t.adaptObject=function(e,i,o,n,a,s){var r=e;if("string"!=typeof o){var l=t.extend({},i,"object"==typeof o&&o);t.isArray(r)&&r.length&&"script"===t(r)[0].nodeName.toLowerCase()?r=t(t.tpl(r[0].innerHTML,l)).appendTo("body"):t.isArray(r)&&r.length&&""===r.selector?r=t(t.tpl(r[0].outerHTML,l)).appendTo("body"):t.isArray(r)||(r=t(t.tpl(n,l)).appendTo("body"))}return r.each(function(){var e=t(this),n=e.data("dui."+s);n||e.data("dui."+s,n=new a(this,t.extend({},i,"object"==typeof o&&o))),"string"==typeof o&&n[o]()})}}(Zepto),!function(t){function e(e,i){this.options=i,this.element=t(e),this._bind(),this.options.show&&this.show()}function i(t){return t.preventDefault&&t.preventDefault(),t.returnValue=!1,t.stopPropagation&&t.stopPropagation(),!1}function o(t){for(var e=[],i=0,o=t.length;o>i;i++)"[object String]"===s.call(t[i])?e[i]={text:t[i]}:e[i]=t[i];return e}var n={title:"",subtitle:"",content:"",buttons:[{text:"确定"}],allowScroll:!1,show:!0,html:!1,backdrop:!0,backdropClose:!1,layout:"normal",customClass:"",animate:""},a={buttons:[{text:"确定"},{text:"取消"}],backdropClose:!0,layout:"actionsheet"},s=Object.prototype.toString,r='<% if(layout == "normal"){ %><div class="modal modal-default<% if(customClass){%> <%= customClass %><% } %>">    <% if(backdrop){ %>    <div class="modal-backdrop"></div>    <% } %>    <div class="modal-dialog">        <% if(title){ %>        <div class="modal-header"><%= title %></div>        <% } %>        <div class="modal-body">            <% if(html === false){ %>               <div class="modal-content">               <% if(subtitle !== ""){ %>               <h4><%= subtitle %></h4>               <% } %>               <p><%= content %></p>               </div>            <% }else if(type === "html"){ %>               <%= content %>            <% } %>        </div>        <div class="modal-footer">            <% for(var i=0, len=buttons.length; i<len; i++){ %>            <button <% if(buttons[i].type){ %>class="modal-btn-<%= buttons[i].type %>"<% } %> type="button" data-role="button"><%= buttons[i].text %></button>            <% } %>        </div>    </div></div><% } else if(layout == "actionsheet") { %><div class="actionsheet-modal<% if(customClass){%> <%= customClass %><% } %>">   <% if(backdrop){ %>   <div class="modal-backdrop"></div>   <% } %>   <div class="actionsheet-dialog">       <div class="actionsheet-menu">           <% if(content){ %>           <div class="actionsheet-desc"><%= content %></div>           <% } %>           <% for(var i=0, len=buttons.length-1; i<len; i++){ %>           <div class="actionsheet-cell <% if(buttons[i].type){ %><%= "cell-"+buttons[i].type %><% } %>" data-role="button"><%= buttons[i].text %></div>           <% } %>       </div>       <div class="actionsheet-cancel">           <% if(buttons.length){ %><div class="actionsheet-cell" data-role="button"><%= buttons[buttons.length-1].text %></div><% } %>       </div>   </div></div><% } else if(layout == "blank"){ %><div class="modal<% if(animate){%> modal-<%= animate%><% } %><% if(customClass){%> <%= customClass %><% } %>">   <% if(backdrop){ %>   <div class="modal-backdrop"></div>   <% } %>   <%= html %>   </div></div><% } else if(layout == "custom"){ %>   <%= html %><% } %>';e.prototype={_bind:function(){var e=this,i=e.element.find('[data-role="button"]');e.options.backdrop&&e.options.backdropClose&&e.element.children(".modal-backdrop").on("tap",function(t){e.hide(),t.preventDefault()}),i.on("tap",function(o){var n=i.index(this),a=t.Event("modal:action");a.index=n,e.element.trigger(a),e.hide(),o.preventDefault()})},show:function(){var e=this;!e.options.allowScroll&&t(document).on("touchmove",i),setTimeout(function(){var i=t.Event("modal:show");e.element.addClass("modal-open"),e.element.trigger(i)},30)},hide:function(){var e=this;!e.options.allowScroll&&t(document).off("touchmove",i),e.element.removeClass("modal-open"),setTimeout(function(){var i=t.Event("modal:hide");e.element.trigger(i).remove()},400)}},t.fn.modal=t.modal=function(i){return i&&i.buttons&&(i.buttons=o(i.buttons)),t.adaptObject(this,n,i,r,e,"modal")},t.alert=function(e){var i=null===e||void 0===e?null:Array.prototype.toString.call(e);return"[object String]"===i?t.modal({subtitle:e}):t.modal(e)},t.confirm=function(e){var i=null===e||void 0===e?null:Array.prototype.toString.call(e);return e="[object String]"===i?{content:e}:e,t.modal(t.extend({},a,e))}}(Zepto),!function(t){function e(e,i){this.options=i,this.element=t(e),this.options.show&&this.show()}var i={show:!0,type:"modeless"},o='<% if(type === "modal"){ %><div class="loading loading-modal">    <div class="loading-modal-dialog">        <i></i>    </div></div><% }else{ %><div class="loading loading-modeless loading-open">    <i></i></div><% } %>',n={};e.prototype={show:function(){this.element.addClass("loading-open"),this.options.show=!0},hide:function(){this.element.removeClass("loading-open"),this.options.show=!1}},t.fn.loading=t.loading=function(n){return t.adaptObject(this,i,n,o,e,"loading")};var a=0;t.loadingShow=function(){a++,n.modeless||(n.modeless=t.adaptObject(this,i,{},o,e,"loading")),n.modeless.loading("show")},t.loadingHide=function(){a--,n.modeless&&!a&&n.modeless.loading("hide")}}(Zepto),!function(t){function e(e){return t.adaptObject(this,o,e,i,n,"toast")}var i='<div class="toast toast-<%=type%>"><div class="toast-content"><% if(type === "warning"){ %><i class="icon icon-emo-unhappy mr-md"></i><% }else if(type === "success"){ %><i class="icon icon-emo-happy mr-md"></i><% }else{ %><% } %><%=content%></div></div>',o={content:"",duration:3e3,type:"info"},n=function(e,i){this.element=t(e),this.elementHeight=t(e).height(),this.options=t.extend({},o,i),this.effector=i.effect&&"fade-out-up"==i.effect?s:a,this.effector.init(this),this.show()};n.prototype={show:function(){this.effector.start(this)},hide:function(){this.effector.end(this)},getOptions:function(){return this.options},getElement:function(){return this.element},onShow:function(){this.element.trigger(t.Event("toast:show"))},onHide:function(){this.element.trigger(t.Event("toast:hide"))}};var a=function(){};a.init=function(t){t.getElement().css({"-webkit-transform":"translateY(-"+t.elementHeight+"px)"})},a.start=function(t){var e=t.getOptions(),i=t.getElement();setTimeout(function(){i.css({"-webkit-transition":"all .5s"}),t.onShow(),i.css({"-webkit-transform":"translateY(0px)"}),e.duration>0&&setTimeout(function(){t.hide()},e.duration)},20)},a.end=function(t){var e=(t.getOptions(),t.getElement());t.onHide(),e.css({"-webkit-transform":"translateY(-"+t.elementHeight+"px)"}),setTimeout(function(){e.remove()},500)};var s=function(){};s.init=function(t){t.getElement().addClass("toast-fade-out-up").css({top:(document.documentElement.clientHeight-t.elementHeight)/4*3})},s.start=function(t){var e=t.getOptions(),i=t.getElement();setTimeout(function(){i.css({"-webkit-animation-duration":e.duration+"ms","animation-duration":e.duration+"ms"}),t.onShow(),i.addClass("fadeInOutUp"),setTimeout(function(){t.hide()},e.duration)},20)},s.end=function(t){var e=(t.getOptions(),t.getElement());t.onHide(),setTimeout(function(){e.remove()},20)},t.toast=function(t){var i=null===t||void 0===t?null:Array.prototype.toString.call(t);return e("[object String]"===i?{content:t}:t)},t.toastSuccess=function(t){var i=null===t||void 0===t?null:Array.prototype.toString.call(t);return"[object String]"===i&&(t={content:t}),t.type="success",e(t)},t.toastWarning=function(t){var i=null===t||void 0===t?null:Array.prototype.toString.call(t);return"[object String]"===i&&(t={content:t}),t.type="warning",e(t)}}(window.Zepto),!function(t){function e(e,i){if(this.options=i,this.element=t(e),this.province=this.element.find(".province"),this.city=this.element.find(".city"),this.county=this.element.find(".county"),i.value){var o=C.area.getProvinceByAreaCode(i.value),n=C.area.getCityByAreaCode(i.value),a=C.area.getAreaByCode(i.value);this._renderProvince(C.area.getProvinceList(),o.code),this._renderCity(C.area.getCityList(o.code),n.code),this._renderCounty(C.area.getAreaList(n.code),a.code)}else this._renderProvince(C.area.getProvinceList());this._bind(),this.options.show&&this.show()}var i={value:"",show:!0,itemHeight:40},o='<div class="area-modal">   <div class="area-backdrop">点击此处取消选择</div>   <div class="area-dialog">      <div class="area-list area-province border-r">           <div class="area-title border-b">省份</div>           <div class="area-content">               <ul class="province">               </ul>           </div>       </div>       <div class="area-list area-city border-r">           <div class="area-title border-b">城市</div>           <div class="area-content">               <ul class="city">               </ul>           </div>       </div>       <div class="area-list area-county">           <div class="area-title border-b">区/县</div>           <div class="area-content">               <ul class="county">               </ul>           </div>       </div>   </div></div>';e.prototype={_bind:function(){var e=this;this.element.children(".area-backdrop").on("touchend",function(t){e.hide(),t.preventDefault()}),this.province.on("tap","li",function(i){var o=t(this),n=o.attr("code");o.addClass("active").siblings().removeClass("active"),e._renderCity(C.area.getCityList(n)||[]),e._renderCounty([]),i.preventDefault()}),this.city.on("tap","li",function(i){var o=t(this),n=o.attr("code");o.addClass("active").siblings().removeClass("active"),e._renderCounty(C.area.getAreaList(n)||[]),i.preventDefault()}),this.county.on("tap","li",function(i){var o=t(this),n=o.attr("code");o.addClass("active").siblings().removeClass("active"),e.element.trigger(t.Event("district:change"),[[C.area.getProvinceByAreaCode(n),C.area.getCityByAreaCode(n),C.area.getAreaByCode(n)]]),e.hide(),i.preventDefault()})},_renderProvince:function(t,e){for(var i,o="",n=0;i=t[n++];)o+='<li class="nowrap'+(e&&e==i.code?" active":"")+'" code="'+i.code+'">'+i.display+"</li>";this.province.html(o)},_renderCity:function(t,e){for(var i,o="",n=0;i=t[n++];)o+='<li class="nowrap'+(e&&e==i.code?" active":"")+'" code="'+i.code+'">'+i.name+"</li>";this.city.html(o)},_renderCounty:function(t,e){for(var i,o="",n=0;i=t[n++];)o+='<li class="nowrap'+(e&&e==i.code?" active":"")+'" code="'+i.code+'">'+i.name+"</li>";this.county.html(o)},show:function(){var e=this,i=this.options;if(i.value){var o=this.province.children(".active").index();o>=0&&this.province.parent().scrollTop(o*i.itemHeight),o=this.city.children(".active").index(),o>=0&&this.city.parent().scrollTop(o*i.itemHeight),o=this.county.children(".active").index(),o>=0&&this.county.parent().scrollTop(o*i.itemHeight)}setTimeout(function(){var i=t.Event("district:show");e.element.addClass("modal-open").trigger(i)},30)},hide:function(){var e=this;e.element.removeClass("modal-open"),setTimeout(function(){var i=t.Event("district:hide");e.element.trigger(i).remove()},400)}},t.fn.district=t.district=function(n){return t.adaptObject(this,i,n,o,e,"district")}}(window.Zepto),$(function(){document.body.addEventListener("touchstart",function(){})});